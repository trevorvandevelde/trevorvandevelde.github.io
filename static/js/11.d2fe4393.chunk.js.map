{"version":3,"sources":["../../../../src/blocks/dropbox/index.tsx"],"names":["script","src","document","body","append"],"mappings":"uJAGM,EAAS,SAAS,cAAc,UACtCA,EAAO,KAAO,kBACd,EAAO,GAAK,YACZ,IAAM,EAAmB,OAAe,gBACpC,GAAiB,EAAO,aAAa,eAAgB,GACzDA,EAAOC,IAAM,kDACbC,SAASC,KAAKC,OAAOJ,GAIrB,IAAM,EAAkC,SAAC,G,IAAC,EAAG,MAAE,EAAU,aACjD,EAAM,WAkBZ,OAjBA,mBAAsB,WACpB,GAAK,EAAI,QAAT,CACA,IAAM,EAAS,QAAgB,MAAM,CACnC,KAAM,EACN,KAAM,CACJ,KAAM,QAER,OAAQ,CACN,KAAM,OACN,WAAY,WAEb,EAAI,SACP,OAAO,WACJ,QAAgB,QAAQ,EAC3B,CAbkB,CAcpB,GAAG,IAEI,EACL,uBAAK,IAAK,EAAY,MAAO,CAAC,OAAQ,OAE1C,EAyBe,UAvB2B,SAAC,GACnC,MAAoB,YAAe,GAAlC,EAAK,KAAE,EAAQ,KAiBtB,OAhBA,aAAgB,WACd,IAAI,GAAU,EAUd,OATa,SAAP,IACC,IACkB,qBAAZ,QAIX,WAAW,EAAM,KAHf,GAAS,GAIb,CACA,GACO,WACL,GAAU,CACZ,CACF,GAAG,IAEE,EAEE,gBAAC,EAAS,sBAAK,IAFH,IAGrB,C","file":"static/js/11.d2fe4393.chunk.js","sourcesContent":["import { __assign } from \"tslib\";\nimport * as React from 'react';\nvar script = document.createElement('script');\nscript.type = 'text/javascript';\nscript.id = 'dropboxjs';\nvar DROPBOX_APP_KEY = window.DROPBOX_APP_KEY;\nif (DROPBOX_APP_KEY)\n    script.setAttribute('data-app-key', DROPBOX_APP_KEY);\nscript.src = 'https://www.dropbox.com/static/api/2/dropins.js';\ndocument.body.append(script);\nvar DropboxUi = function (_a) {\n    var url = _a.url, renderWrap = _a.renderWrap;\n    var ref = React.useRef();\n    React.useLayoutEffect(function () {\n        if (!ref.current)\n            return;\n        var embed = Dropbox.embed({\n            link: url,\n            file: {\n                zoom: \"best\"\n            },\n            folder: {\n                view: \"list\",\n                headerSize: \"normal\"\n            }\n        }, ref.current);\n        return function () {\n            Dropbox.unmount(embed);\n        };\n    }, []);\n    return renderWrap(React.createElement(\"div\", { ref: ref, style: { height: 500 } }));\n};\nvar WithDropbox = function (props) {\n    var _a = React.useState(false), ready = _a[0], setReady = _a[1];\n    React.useEffect(function () {\n        var mounted = true;\n        var wait = function () {\n            if (!mounted)\n                return;\n            if (typeof Dropbox !== 'undefined') {\n                setReady(true);\n                return;\n            }\n            setTimeout(wait, 100);\n        };\n        wait();\n        return function () {\n            mounted = false;\n        };\n    }, []);\n    if (!ready)\n        return null;\n    return React.createElement(DropboxUi, __assign({}, props));\n};\nexport default WithDropbox;\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}