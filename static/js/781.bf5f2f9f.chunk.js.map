{"version":3,"file":"static/js/781.bf5f2f9f.chunk.js","mappings":"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","sources":["../node_modules/decode-uri-component/index.js","../node_modules/query-string/index.js","../node_modules/react-embed/node_modules/react-instagram-embed/es/index.js","../../../../src/blocks/instagram/index.tsx","../node_modules/strict-uri-encode/index.js"],"sourcesContent":["'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp('(' + token + ')|([^%]+?)', 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn [decodeURIComponent(components.join(''))];\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher) || [];\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher) || [];\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\nvar decodeComponent = require('decode-uri-component');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nfunction extract(str) {\n\tvar queryStart = str.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\treturn str.slice(queryStart + 1);\n}\n\nfunction parse(str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^[?#&]/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeComponent(val);\n\n\t\tformatter(decodeComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tif (opts.sort === false) {\n\t\topts.sort = function () {};\n\t}\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort(opts.sort).map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n\nexports.parseUrl = function (str, opts) {\n\treturn {\n\t\turl: str.split('?')[0] || '',\n\t\tquery: parse(extract(str), opts)\n\t};\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as qs from 'query-string';\nvar InstagramEmbed = /** @class */ (function (_super) {\n    __extends(InstagramEmbed, _super);\n    function InstagramEmbed(props) {\n        var _this = _super.call(this, props) || this;\n        _this.request = null;\n        // Public\n        _this.cancel = function () {\n            if (_this.request) {\n                _this.request.cancel();\n            }\n        };\n        _this.handleFetchSuccess = function (response) {\n            if (_this.props.onSuccess) {\n                _this.props.onSuccess(response);\n            }\n            _this.setState({ html: response.html }, function () {\n                window.instgrm.Embeds.process();\n                if (_this.props.onAfterRender) {\n                    _this.props.onAfterRender();\n                }\n            });\n        };\n        _this.handleFetchFailure = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            clearTimeout(_this.timer);\n            if (_this.props.onFailure) {\n                _this.props.onFailure(args);\n            }\n        };\n        _this.createRequestPromise = function (url) {\n            var request = {};\n            request.promise = new Promise(function (resolve, reject) {\n                var promise = fetch(url)\n                    .then(function (response) { return response.json(); })\n                    .then(function (json) { return resolve(json); })\n                    .catch(function (err) { return reject(err); });\n                request.cancel = function () { return reject(new Error('Cancelled')); };\n                return promise;\n            });\n            return request;\n        };\n        _this.state = { html: null };\n        return _this;\n    }\n    InstagramEmbed.prototype.componentDidMount = function () {\n        var _this = this;\n        if (window.instgrm) {\n            this.fetchEmbed(this.getQueryParams(this.props));\n        }\n        else {\n            if (this.props.injectScript && !document.getElementById('react-instagram-embed-script')) {\n                this.injectScript();\n            }\n            this.checkAPI().then(function () {\n                _this.fetchEmbed(_this.getQueryParams(_this.props));\n            });\n        }\n    };\n    InstagramEmbed.prototype.componentDidUpdate = function (prevProps) {\n        var _a = this.props, url = _a.url, hideCaption = _a.hideCaption, maxWidth = _a.maxWidth, containerTagName = _a.containerTagName;\n        if (prevProps.url !== url ||\n            prevProps.hideCaption !== hideCaption ||\n            prevProps.maxWidth !== maxWidth ||\n            prevProps.containerTagName !== containerTagName) {\n            this.request.cancel();\n            this.fetchEmbed(this.getQueryParams(this.props));\n        }\n    };\n    InstagramEmbed.prototype.componentWillUnmount = function () {\n        this.cancel();\n    };\n    InstagramEmbed.prototype.render = function () {\n        var Tag = this.props.containerTagName;\n        return React.createElement(Tag, __assign({}, this.omitComponentProps(), { dangerouslySetInnerHTML: { __html: this.state.html || '' } }));\n    };\n    InstagramEmbed.prototype.fetchEmbed = function (queryParams) {\n        this.request = this.createRequestPromise(\"https://api.instagram.com/oembed/?\" + queryParams);\n        if (this.props.onLoading) {\n            this.props.onLoading();\n        }\n        this.request.promise.then(this.handleFetchSuccess).catch(this.handleFetchFailure);\n    };\n    InstagramEmbed.prototype.omitComponentProps = function () {\n        var _a = this.props, url = _a.url, hideCaption = _a.hideCaption, maxWidth = _a.maxWidth, containerTagName = _a.containerTagName, onLoading = _a.onLoading, onSuccess = _a.onSuccess, onAfterRender = _a.onAfterRender, onFailure = _a.onFailure, protocol = _a.protocol, injectScript = _a.injectScript, rest = __rest(_a, [\"url\", \"hideCaption\", \"maxWidth\", \"containerTagName\", \"onLoading\", \"onSuccess\", \"onAfterRender\", \"onFailure\", \"protocol\", \"injectScript\"]);\n        return rest;\n    };\n    InstagramEmbed.prototype.injectScript = function () {\n        var protocolToUse = window.location.protocol.indexOf('file') === 0 ? this.props.protocol : '';\n        var s = document.createElement('script');\n        s.async = s.defer = true;\n        s.src = protocolToUse + \"//platform.instagram.com/en_US/embeds.js\";\n        s.id = 'react-instagram-embed-script';\n        var body = document.body;\n        if (body) {\n            body.appendChild(s);\n        }\n    };\n    InstagramEmbed.prototype.checkAPI = function () {\n        var _this = this;\n        return new Promise(function (resolve) {\n            (function checkAPI(self) {\n                self.timer = window.setTimeout(function () {\n                    if (window.instgrm) {\n                        clearTimeout(self.timer);\n                        resolve();\n                    }\n                    else {\n                        checkAPI(self);\n                    }\n                }, 20);\n            })(_this);\n        });\n    };\n    InstagramEmbed.prototype.getQueryParams = function (_a) {\n        var url = _a.url, hideCaption = _a.hideCaption, maxWidth = _a.maxWidth;\n        return qs.stringify({\n            url: url,\n            hidecaption: hideCaption,\n            maxwidth: typeof maxWidth === 'number' && maxWidth >= 320 ? maxWidth : undefined,\n            omitscript: true\n        });\n    };\n    InstagramEmbed.defaultProps = {\n        hideCaption: false,\n        containerTagName: 'div',\n        protocol: 'https:',\n        injectScript: true\n    };\n    return InstagramEmbed;\n}(React.PureComponent));\nexport default InstagramEmbed;\n",null,"'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n"],"names":["token","singleMatcher","RegExp","multiMatcher","decodeComponents","components","split","decodeURIComponent","join","err","length","left","slice","right","Array","prototype","concat","call","decode","input","tokens","match","i","module","exports","encodedURI","TypeError","replace","replaceMap","exec","result","entries","Object","keys","key","customDecodeURIComponent","strictUriEncode","require","objectAssign","decodeComponent","encode","value","opts","strict","encodeURIComponent","keysSorter","isArray","sort","a","b","Number","map","extract","str","queryStart","indexOf","parse","formatter","arrayFormat","accumulator","undefined","parserForArrayFormat","ret","create","trim","forEach","param","parts","shift","val","reduce","Boolean","obj","index","encoderForArrayFormat","val2","push","filter","x","__extends","extendStatics","d","setPrototypeOf","__proto__","p","hasOwnProperty","__","this","constructor","__assign","assign","t","s","n","arguments","apply","__rest","e","getOwnPropertySymbols","InstagramEmbed","_super","props","_this","request","cancel","handleFetchSuccess","response","onSuccess","setState","html","window","instgrm","Embeds","process","onAfterRender","handleFetchFailure","args","_i","clearTimeout","timer","onFailure","createRequestPromise","url","promise","Promise","resolve","reject","fetch","then","json","catch","Error","state","componentDidMount","fetchEmbed","getQueryParams","injectScript","document","getElementById","checkAPI","componentDidUpdate","prevProps","_a","hideCaption","maxWidth","containerTagName","componentWillUnmount","render","Tag","React","omitComponentProps","dangerouslySetInnerHTML","__html","queryParams","onLoading","protocol","protocolToUse","location","createElement","async","defer","src","id","body","appendChild","self","setTimeout","qs","hidecaption","maxwidth","omitscript","defaultProps","renderWrap","C","c","charCodeAt","toString","toUpperCase"],"sourceRoot":""}