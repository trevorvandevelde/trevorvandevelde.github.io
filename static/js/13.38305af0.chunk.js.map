{"version":3,"sources":["../../../../src/blocks/imgur/index.tsx"],"names":["Imgur","prototype","render","this"],"mappings":"uJAGM,EAAa,CACf,MAAK,IACL,SAAQ,SACR,aAAY,MACd,QAAS,SAGL,EAAc,CAChB,MAAK,OACL,QAAO,QACT,SAAU,SACV,aAAc,OAOhB,cAAE,SAAF,IAAI,IAAJ,0C,OACM,EAAJ,MAAoB,CACZ,OAAE,GAEN,EAAJ,SAAU,EAaN,EAAJ,UAAY,SAAC,G,IAAC,EAAI,OACV,GAAD,EAAK,SACU,kBAAT,EACX,IACE,IAAM,EAAO,KAAK,MAAM,GACxB,GAAqB,iBAAjB,EAAK,QAA4B,OACrC,GAAyB,kBAAd,EAAK,KAAmB,OACnC,GAAI,EAAK,OAAS,EAAK,MAAO,OAC9B,GAA2B,kBAAhB,EAAK,OAAqB,OACrC,EAAK,SAAS,CAAC,OAAQ,EAAK,SAC5B,Y,EAiBN,OA5CoB,yBAMhB,EAAF,uCACM,KAAC,SAAU,EACX,OAAG,iBAAiB,UAAW,KAAK,YAGxC,EAAF,0CACM,KAAC,SAAU,EACX,OAAG,oBAAoB,UAAW,KAAK,YAiB3C,EAAF,yBACE,MAAO,uBAAuB,KAAK,MAAM,GAAE,yBAG3CA,EAAMC,UAAUC,OAAS,WAClB,IACD,EADUC,KAAJ,MACS,QAAU,EAE3B,OAAG,KAAK,MAAM,WAChB,uBAAK,MAAK,yCAAM,GAAU,CAAE,OAAQ,EAAS,oBAAsB,MACjE,0BAAQ,UAAU,KAAK,YAAY,IAAI,IAAK,KAAK,MAAO,MAAK,yCAAM,GAAW,CAAE,OAAM,SAI9F,EA5CA,CAAoB,aA8CL","file":"static/js/13.38305af0.chunk.js","sourcesContent":["import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nvar blockStyle = {\n    width: 350,\n    overflow: 'hidden',\n    borderRadius: '6px',\n    display: 'block',\n};\nvar iframeStyle = {\n    width: '100%',\n    display: 'block',\n    overflow: 'hidden',\n    borderRadius: '8px',\n};\nvar Imgur = (function (_super) {\n    __extends(Imgur, _super);\n    function Imgur() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            height: 0,\n        };\n        _this.mounted = false;\n        _this.onMessage = function (_a) {\n            var data = _a.data;\n            if (!_this.mounted)\n                return;\n            if (typeof data !== 'string')\n                return;\n            try {\n                var json = JSON.parse(data);\n                if (json.message !== 'resize_imgur')\n                    return;\n                if (typeof json.href !== 'string')\n                    return;\n                if (json.href !== _this.src())\n                    return;\n                if (typeof json.height !== 'number')\n                    return;\n                _this.setState({ height: json.height });\n            }\n            catch (_b) { }\n        };\n        return _this;\n    }\n    Imgur.prototype.componentDidMount = function () {\n        this.mounted = true;\n        window.addEventListener('message', this.onMessage);\n    };\n    Imgur.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n        window.removeEventListener('message', this.onMessage);\n    };\n    Imgur.prototype.src = function () {\n        return \"https://imgur.com/a/\" + this.props.id + \"/embed?pub=true&w=340\";\n    };\n    Imgur.prototype.render = function () {\n        var state = this.state;\n        var height = state.height || 0;\n        return this.props.renderWrap(React.createElement(\"div\", { style: __assign(__assign({}, blockStyle), { border: height ? '1px solid #E5E9F2' : '' }) },\n            React.createElement(\"iframe\", { scrolling: \"no\", frameBorder: \"0\", src: this.src(), style: __assign(__assign({}, iframeStyle), { height: height }) })));\n    };\n    return Imgur;\n}(React.Component));\nexport default Imgur;\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}