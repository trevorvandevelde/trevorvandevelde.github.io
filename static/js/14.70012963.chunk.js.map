{"version":3,"sources":["../../../../src/blocks/imgur/index.tsx"],"names":["this","state"],"mappings":"uJAGM,EAAa,CACjB,MAAO,IACP,SAAU,SACV,aAAc,MACd,QAAS,SAGL,EAAc,CAClB,MAAO,OACP,QAAS,QACT,SAAU,SACV,aAAc,OAOhB,yE,OACE,QAAoB,CAClB,OAAQ,GAEV,WAAU,EAaV,YAAY,SAAC,G,IAAC,EAAI,OAChB,GAAK,EAAK,SACU,kBAAT,EACX,IACE,IAAM,EAAO,KAAK,MAAM,GACxB,GAAqB,iBAAjB,EAAK,QAA4B,OACrC,GAAyB,kBAAd,EAAK,KAAmB,OACnC,GAAI,EAAK,OAAS,EAAK,MAAO,OAC9B,GAA2B,kBAAhB,EAAK,OAAqB,OACrC,EAAK,SAAS,CAAC,OAAQ,EAAK,QACtB,CAAN,SAAM,CACV,E,CAgBF,QA5CoB,yBAMlB,yCACE,KAAK,SAAU,EACf,OAAO,iBAAiB,UAAW,KAAK,UAC1C,EAEA,4CACE,KAAK,SAAU,EACf,OAAO,oBAAoB,UAAW,KAAK,UAC7C,EAgBA,2BACE,MAAO,8BAAuB,KAAK,MAAM,GAAE,wBAC7C,EAEA,8BACS,IACD,EADUA,KAAKC,MACA,QAAU,EAE/B,OAAO,KAAK,MAAM,WAChB,uBAAK,MAAK,yCAAM,GAAU,CAAE,OAAQ,EAAS,oBAAsB,MACjE,0BAAQ,UAAU,KAAK,YAAY,IAAI,IAAK,KAAK,MAAO,MAAK,yCAAM,GAAW,CAAE,OAAM,OAG5F,EACF,EA5CA,CAAoB,aA8CL,W","file":"static/js/14.70012963.chunk.js","sourcesContent":["import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nvar blockStyle = {\n    width: 350,\n    overflow: 'hidden',\n    borderRadius: '6px',\n    display: 'block',\n};\nvar iframeStyle = {\n    width: '100%',\n    display: 'block',\n    overflow: 'hidden',\n    borderRadius: '8px',\n};\nvar Imgur = (function (_super) {\n    __extends(Imgur, _super);\n    function Imgur() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            height: 0,\n        };\n        _this.mounted = false;\n        _this.onMessage = function (_a) {\n            var data = _a.data;\n            if (!_this.mounted)\n                return;\n            if (typeof data !== 'string')\n                return;\n            try {\n                var json = JSON.parse(data);\n                if (json.message !== 'resize_imgur')\n                    return;\n                if (typeof json.href !== 'string')\n                    return;\n                if (json.href !== _this.src())\n                    return;\n                if (typeof json.height !== 'number')\n                    return;\n                _this.setState({ height: json.height });\n            }\n            catch (_b) { }\n        };\n        return _this;\n    }\n    Imgur.prototype.componentDidMount = function () {\n        this.mounted = true;\n        window.addEventListener('message', this.onMessage);\n    };\n    Imgur.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n        window.removeEventListener('message', this.onMessage);\n    };\n    Imgur.prototype.src = function () {\n        return \"https://imgur.com/a/\".concat(this.props.id, \"/embed?pub=true&w=340\");\n    };\n    Imgur.prototype.render = function () {\n        var state = this.state;\n        var height = state.height || 0;\n        return this.props.renderWrap(React.createElement(\"div\", { style: __assign(__assign({}, blockStyle), { border: height ? '1px solid #E5E9F2' : '' }) },\n            React.createElement(\"iframe\", { scrolling: \"no\", frameBorder: \"0\", src: this.src(), style: __assign(__assign({}, iframeStyle), { height: height }) })));\n    };\n    return Imgur;\n}(React.Component));\nexport default Imgur;\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}